---
import type { CollectionEntry } from "astro:content";
import SectionHeading from "./SectionHeading.astro";

interface Props {
  entries: CollectionEntry<"personal">[];
}

const { entries } = Astro.props as Props;

const personalEntries = await Promise.all(
  entries.map(async (entry) => {
    const { Content } = await entry.render();
    return { entry, Content };
  })
);
---
<section id="personal" class="py-24">
  <div class="container section-grid">
    <SectionHeading
      eyebrow="Beyond Engineering"
      title="Personal Dimensions"
      description="The passions and values that keep me grounded and curious outside of the lab."
    />

    <div class="grid gap-10 md:grid-cols-2">
      {personalEntries
        .sort((a, b) => a.entry.data.order - b.entry.data.order)
        .map(({ entry, Content }) => (
          <article class="glass-panel space-y-4 p-8" key={entry.id}>
            <h3 class="font-display text-2xl text-primary">{entry.data.title}</h3>
            <div class="personal-content space-y-3 text-muted">
              <Content />
            </div>
          </article>
        ))}
    </div>
  </div>
</section>
